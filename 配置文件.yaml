#---------------------------------------------------#
## é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨ $HOME/.config/clash/config.yml
##
## å¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ“ä½œï¼Œè¯·å‚é˜… SS-Rule-Snippet çš„ Wikiï¼š https://github.com/Hackl0us/SS-Rule-Snippet/wiki/clash(X)
#---------------------------------------------------#
proxy-providers:
  ğŸ›« æˆ‘çš„æœºåœº:
    type: http
    # ä¿®æ”¹ä¸ºä½ çš„ Clash è®¢é˜…é“¾æ¥
    url: "https://example.com/xxx/xxx&flag=clash"
    path: ./proxies/airport.yaml
    interval: 43200
    filter: "ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·|ğŸ‡¸ğŸ‡¬|ğŸ‡ºğŸ‡¸"
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 600

# HTTP ä»£ç†ç«¯å£
port: 7890

# SOCKS5 ä»£ç†ç«¯å£
socks-port: 7891

# å…è®¸å±€åŸŸç½‘çš„è¿æ¥ï¼ˆå¯ç”¨æ¥å…±äº«ä»£ç†ï¼‰
allow-lan: false

# è§„åˆ™æ¨¡å¼ï¼šRuleï¼ˆè§„åˆ™ï¼‰ / Globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ Directï¼ˆå…¨å±€ç›´è¿ï¼‰
mode: rule 

# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚
# 5 ä¸ªçº§åˆ«ï¼šsilent / info / warning / error / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚
log-level: silent

# clash çš„ RESTful API
external-controller: 127.0.0.1:9090

# æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `${API}/ui`
# å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
# external-ui: folder

# RESTful API çš„å£ä»¤ (å¯é€‰)
secret: ""

dns:
    enable: true
    ipv6: false
    # listen: 0.0.0.0:53
    # enhanced-mode: redir-host
    nameserver:
        - 1.2.4.8
        - 114.114.114.114
        - 223.5.5.5
        - tls://dns.rubyfish.cn:853

proxies:
  - name: ğŸ†“ å…è´¹èŠ‚ç‚¹
    type: vless
    server: example.com
    port: 443
    uuid: {uuid}
    network: ws
    tls: true
    udp: false
    sni: example.com
    client-fingerprint: chrome
    ws-opts:
      path: "/?ed=2048"
      headers:
        host: example.com



proxy-groups:
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ†“ å…è´¹èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹]}
  - {name: ğŸ“ˆ ç½‘ç»œæµ‹è¯•, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ†“ å…è´¹èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹]}
  # è‹¥æœºåœºçš„ UDP è´¨é‡ä¸æ˜¯å¾ˆå¥½ï¼Œå¯¼è‡´æŸæ¸¸æˆæ— æ³•ç™»å½•æˆ–è¿›å…¥æˆ¿é—´ï¼Œå¯ä»¥æ·»åŠ  `disable-udp: true` é…ç½®é¡¹è§£å†³
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿], disable-udp: true}
  - {name: ğŸ”— ç›´è¿åŸŸå, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸªœ ä»£ç†åŸŸå, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿], disable-udp: true}
  - {name: â“‚ï¸ å¾®è½¯æœåŠ¡, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ“¢ è°·æ­ŒæœåŠ¡, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ è‹¹æœæœåŠ¡, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: çŸ¥ä¹, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: Bç«™, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ç±³æ¸¸ç¤¾, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: javdb, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ‡¨ğŸ‡³ å›½å†… IP, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: å›½å†…ç½‘ç«™, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: Guthub, type: select, proxies:  [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ”’ å±€åŸŸç½‘, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿]}
  - {name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª, type: select, proxies: [REJECT]}
  - {name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [DIRECT]}

  # é‡‡ç”¨èŠ‚ç‚¹è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œä¼˜ç‚¹æ˜¯æ›´ç¨³å®šï¼Œé€Ÿåº¦å¯èƒ½æœ‰æå‡ï¼›æ¨èåœ¨èŠ‚ç‚¹å¤ç”¨æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ä½¿ç”¨
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, type: load-balance, strategy: consistent-hashing, lazy: true, use: [ğŸ›« æˆ‘çš„æœºåœº], filter: "ğŸ‡­ğŸ‡°"}
  - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, type: load-balance, strategy: consistent-hashing, lazy: true, use: [ğŸ›« æˆ‘çš„æœºåœº], filter: "ğŸ‡¹ğŸ‡¼"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, type: load-balance, strategy: consistent-hashing, lazy: true, use: [ğŸ›« æˆ‘çš„æœºåœº], filter: "ğŸ‡¯ğŸ‡µ"}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, type: load-balance, strategy: consistent-hashing, lazy: true, use: [ğŸ›« æˆ‘çš„æœºåœº], filter: "ğŸ‡°ğŸ‡·"}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, type: load-balance, strategy: consistent-hashing, lazy: true, use: [ğŸ›« æˆ‘çš„æœºåœº], filter: "ğŸ‡¸ğŸ‡¬"}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, type: load-balance, strategy: consistent-hashing, lazy: true, use: [ğŸ›« æˆ‘çš„æœºåœº], filter: "ğŸ‡ºğŸ‡¸"}

rule-providers:
  ads:
    type: http
    behavior: domain
    format: text
    path: ./rules/ads.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/Anti-ad.list"
    interval: 86400

  github:
    type: http
    behavior: classical
    format: text
    path: ./rules/github.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/Github.list"
    interval: 86400

  Lan:
    type: http
    behavior: domain
    format: text
    path: ./rules/Lan.list
    url: "https://raw.githubusercontent.com/Repcz/Tool/X/Clash/Rules/Lan.list"
    interval: 86400

  microsoft-cn:
    type: http
    behavior: domain
    format: text
    path: ./rules/microsoft-cn.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/Microsoft.list"
    interval: 86400

  apple-cn:
    type: http
    behavior: domain
    format: text
    path: ./rules/apple-cn.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/Apple.list"
    interval: 86400

  google-cn:
    type: http
    behavior: domain
    format: text
    path: ./rules/google-cn.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/Google.list"
    interval: 86400


  proxy:
    type: http
    behavior: domain
    format: text
    path: ./rules/proxy.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/ProxyGFW.list"
    interval: 86400


  telegramip:
    type: http
    behavior: ipcidr
    format: text
    path: ./rules/telegramip.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/Telegram.list"
    interval: 86400

  cnip:
    type: http
    behavior: ipcidr
    format: text
    path: ./rules/cnip.list
    url: "https://github.com/Repcz/Tool/raw/X/Clash/Rules/ChinaDomain.list"
    interval: 86400

  zhihu:
    type: http
    behavior: ipcidr
    format: text
    path: ./rules/zhihu.list
    url: "https://raw.githubusercontent.com/njzybaby/ClashMetaForAndroid/main/rules/zhihu.list"
    interval: 86400
  
  bilibili:
    type: http
    behavior: ipcidr
    format: text
    path: ./rules/bilibili.list
    url: "https://raw.githubusercontent.com/njzybaby/ClashMetaForAndroid/main/rules/bilibili.list"
    interval: 86400

  miyoushe:
    type: http
    behavior: ipcidr
    format: text
    path: ./rules/miyoushe.list
    url: "https://raw.githubusercontent.com/njzybaby/ClashMetaForAndroid/main/rules/miyoushe.list"
    interval: 86400

  javdb:
    type: http
    behavior: ipcidr
    format: text
    path: ./rules/javdb.list
    url: "https://raw.githubusercontent.com/njzybaby/ClashMetaForAndroid/main/rules/javdb.list"
    interval: 86400


rules:
    # Apple
    - DOMAIN,hls.itunes.apple.com,Proxy
    - DOMAIN,itunes.apple.com,Proxy
    - DOMAIN,itunes.com,Proxy
    - DOMAIN-SUFFIX,digicert.com,DIRECT
    - DOMAIN-SUFFIX,icloud.com,DIRECT
    - DOMAIN-SUFFIX,icloud-content.com,DIRECT
    - DOMAIN-SUFFIX,mzstatic.com,DIRECT
    - DOMAIN-SUFFIX,akadns.net,DIRECT
    - DOMAIN-SUFFIX,aaplimg.com,DIRECT
    - DOMAIN-SUFFIX,cdn-apple.com,DIRECT
    - DOMAIN-SUFFIX,apple.com,DIRECT
    #- DOMAIN,e.crashlytics.com,REJECT //æ³¨é‡Šæ­¤é€‰é¡¹æœ‰åŠ©äºå¤§å¤šæ•°Appå¼€å‘è€…åˆ†æå´©æºƒä¿¡æ¯ï¼›å¦‚æœæ‚¨æ‹’ç»ä¸€åˆ‡å´©æºƒæ•°æ®ç»Ÿè®¡ã€æœé›†ï¼Œè¯·å–æ¶ˆ # æ³¨é‡Šã€‚


    # è‡ªå®šä¹‰è§„åˆ™
    ## æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ’å…¥æ‚¨è¡¥å……çš„è‡ªå®šä¹‰è§„åˆ™
    # æŠ— DNS æ±¡æŸ“
    - DOMAIN-KEYWORD,amazon,Proxy
    - DOMAIN-KEYWORD,google,Proxy
    - DOMAIN-KEYWORD,gmail,Proxy
    - DOMAIN-KEYWORD,youtube,Proxy
    - DOMAIN-KEYWORD,facebook,Proxy
    - DOMAIN-SUFFIX,fb.me,Proxy
    - DOMAIN-SUFFIX,fbcdn.net,Proxy
    - DOMAIN-KEYWORD,twitter,Proxy
    - DOMAIN-KEYWORD,instagram,Proxy
    - DOMAIN-KEYWORD,dropbox,Proxy
    - DOMAIN-SUFFIX,twimg.com,Proxy
    - DOMAIN-KEYWORD,blogspot,Proxy
    - DOMAIN-SUFFIX,youtu.be,Proxy
    - DOMAIN-KEYWORD,whatsapp,Proxy

    # å¸¸è§å¹¿å‘ŠåŸŸåå±è”½
    - DOMAIN-KEYWORD,admarvel,REJECT
    - DOMAIN-KEYWORD,admaster,REJECT
    - DOMAIN-KEYWORD,adsage,REJECT
    - DOMAIN-KEYWORD,adsmogo,REJECT
    - DOMAIN-KEYWORD,adsrvmedia,REJECT
    - DOMAIN-KEYWORD,adwords,REJECT
    - DOMAIN-KEYWORD,adservice,REJECT
    - DOMAIN-KEYWORD,domob,REJECT
    - DOMAIN-KEYWORD,duomeng,REJECT
    - DOMAIN-KEYWORD,dwtrack,REJECT
    - DOMAIN-KEYWORD,guanggao,REJECT
    - DOMAIN-KEYWORD,lianmeng,REJECT
    - DOMAIN-KEYWORD,omgmta,REJECT
    - DOMAIN-KEYWORD,openx,REJECT
    - DOMAIN-KEYWORD,partnerad,REJECT
    - DOMAIN-KEYWORD,pingfore,REJECT
    - DOMAIN-KEYWORD,supersonicads,REJECT
    - DOMAIN-KEYWORD,tracking,REJECT
    - DOMAIN-KEYWORD,uedas,REJECT
    - DOMAIN-KEYWORD,umeng,REJECT
    - DOMAIN-KEYWORD,usage,REJECT
    - DOMAIN-KEYWORD,wlmonitor,REJECT
    - DOMAIN-KEYWORD,zjtoolbar,REJECT

    # åˆ†ç»„ç­–ç•¥

    - RULE-SET,ads,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    - RULE-SET,github,Github
    - RULE-SET,Lan,ğŸ”’ å±€åŸŸç½‘
    - RULE-SET,microsoft-cn,â“‚ï¸ å¾®è½¯æœåŠ¡
    - RULE-SET,apple-cn,ğŸ è‹¹æœæœåŠ¡
    - RULE-SET,google-cn,ğŸ“¢ è°·æ­ŒæœåŠ¡
    - RULE-SET,proxy,ğŸªœ ä»£ç†åŸŸå
    - RULE-SET,cn,ğŸ”— ç›´è¿åŸŸå
    - RULE-SET,telegramip,ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    - RULE-SET,zhihu,çŸ¥ä¹
    - RULE-SET,miyoushe,ç±³æ¸¸ç¤¾
    - RULE-SET,bilibili,Bç«™
    - RULE-SET,javdb,javdb
    - RULE-SET,cnip,ğŸ‡¨ğŸ‡³ å›½å†… IP
    - GEOIP,CN,å›½å†…ç½‘ç«™
    - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼